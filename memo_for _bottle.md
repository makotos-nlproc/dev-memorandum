
## 目的：bottleのだいたいの機能を把握すること

## 調べたことメモ

### cssやjsのファイルにルーティングする


## 公式ドキュメントざっくり読んだメモ
### Bottle: Python Web Framework
何事も何から・どこから書くかをいつも悩むが、日本語の練習と自分の理解の整理・確認（間違いがあれば誰かが指摘してくれることを期待して）のために、できるだけ基本的なことから書く。何から書くかを悩んで何も書かないより、書けるとこからどんどん書いていこうという思いだ。
Webアプリ、ユーザがブラウザを通してネットワーク通信とかをして、どこかにあるサーバにアクセスしそこに設置してあるプログラムを利用するアプリケーションを作るためには、プログラミング言語を使って、ブラウザ側の要求（リクエスト）に対する処理機能や、逆にサーバ側からのデータの送信の処理機能、周辺プログラム（DBやユーザ認証）の機能を実装していく必要がある（らしい）。人間は万能ではないので、全てを理解して、全てを一から作っていくのは効率が良くない。そこで、Webアプリ開発をするときには、Webアプリで共通して行われるであろう、上記のような機能をまとめあげてあるプログラムの恩恵を受けて開発するのが一般的なようだ。このWeb開発に必要なものをまとめあげたものをweb framworkという。bottleはpythonのこれだ。python用のwebフレームワークはいろいろあるが、その中でも、bottleは速くて軽量であることが特徴なようだ。もっと詳しい話としてbottleはWSGIに対応しているとか、そういう話もあるが、まだ必要のない知識っぽいので次に進む。
bottleはpythonの標準ライブラリだけあれば動く。とにかくPythonとbottleがそのプロジェクトのディレクトリにありさえすれば、動作してくれるらしい。

### Tutorial
https://bottlepy.org/docs/dev/
`route()`デコレータはコード（特に関数）とURLパスを結びつける。これはURLに対してある処理への道を通しているイメージで、そのURLにアクセスすると結びついている処理が行われる。

`run()`はサーバを起動する関数で、サーバやポート番号を引数に渡す。開発の間は`run(host='localhost', port=8080, debug=True)`でＯＫ。

簡単のために、このチュートリアルでのほとんどの例はモジュールレベルのルートデコレータ`route()`をルート定義のために使っている。これはルートを大域的な（グローバル）"デフォルトアプリケーション"に接続する。"デフォルトアプリケーション"は`Bottle`インスタンスであり、初めて`route()`を呼び出したときに自動で作られる。他のモジュールレベルのデコレータや関数はこのデフォルトアプリケーションに関係する（結びつく）。もしよりオブジェクト指向なアプローチを好まず、余分なタイピンが嫌なら、グローバルアプリケーションの代わりに、独自のアプリケーションを用意して使うこともできる。

つまり、bottleのデコレータや関数は`Bottle`インスタンスに結びついているので、それらを使うには`Bottle`インスタンスが必要になる。自分で明示的にBottleインスタンスを生成して使ってもＯＫだし、`route()`を使うと勝手にデフォルトのものが用意されるよ、ってことか。

Bottleインスタンスを明示的に呼び出して、bottleが提供するデコレータを使う。

```python
from bottle import Bottle, run

app = Bottle()
@app.route('/')
def base():
  return "this page is a base page."
run(app, host='localhsot', port=8080)
```
#### リクエストルーティング
`route()`はURLパスと関数を結びつけ、デフォルトアプリケーションに新しいルートを追加する。複数のルートを一つの関数に結びつけることができる。

```python
from bottle import template

@route('/')
@route('/hello/<name>')
def greet(name='Mr.Unkown'):
  return template('Yahho {{name}}.'name=name)
```

任意の文字列（ワイルドカード）をURLに加えることができる、ここでは<name>がワイルドカードで、これをキーワード引数を使って続くプログラムの中で利用できる。つまり、リクエスト側からの簡単なリクエストを受け付けられるということ。(ここでいうキーワード引数は、`name`で、デフォルトでは`Mr.Unknown`が設定されている)

#### ダイナミックルート
ワイルドカードを含むルートはダイナミックルートと呼ばれている。（名前の通り動的なルートってこと。常に行き先が固定されているルートはスタティックなルートと呼ぶ）。シンプルなワイルドカードはアングルブラケット（`<>`のこと）で囲まれた`<name>`のような一つの名前からなる。ワイルドカードはURLの該当部分をキーワード引数として、リクエストコールバック（おそらく、ルートと結びついている要求に対応する関数のこと）に渡す。

フィルターはより具体的なワイルドカードを定義するに使うことができる。また、コールバックにワイルドカードを渡す前にURLの該当部分を変換する。フィルターされるワイルドカードは`<name:filter>`や`<name:filter:config>`のように宣言する。オプションの構文（随意のconfig）は使われるフィルターによる。
- :int  
符号付整数にのみマッチあるいは変換
- :float  
- :path  
スラッシュを含む文字列にものぐさ（non-greedy）にマッチ
- :re  
configフィールドに任意の正規表現を指定できる。

自分でフィルターを追加することもできる・→Request Routing.

#### HTTPリクエストメソッド
HTTPプロトコルはリクエストメソッドを定義します。`GET`は他のメソッドが指定されていないとき全ルートのデフォルトです。これらのルートはGETリクエストのみにマッチします。`POST`, `PUT`, `DELETE`, `PATCH`のような他のメソッドを使うためには、`method`キーワード引数を`route`デコレータに加えるか、代わりとなる次の5つメソッドを使います。`get()`, `post()`, `put()`, `delete()`, `patch()`

#### 特別なメッソド　HEADとANY
HEADメソッドはGETメッソドに対応するレスポンスと同一のレスポンスを要求するために使われるが、レスポンスボディを持たない。これは全ドキュメントをダウンロードする必要なく、リソースについてのメタ情報を引き出すのに有効だ。Bottleはこれらのリクエストを自動的処理する。対応するGETルートにフォールバックして、リクエストボディを切り落とすことによって実現する。

また、非標準のANYメソッドは低い優先度のフォールバックとして機能する。
ANYを受けるrouteはHTTPメソッドに関わらず、リクエストをマッチするが、他のどんな特定のrouteが定義されていない場合に限る。



### API Reference


ルーティング：routeの動詞形、「経路を決める」の動名詞形、「経路選択」とも。
